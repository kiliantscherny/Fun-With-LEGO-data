version: 2

models:
  - name: intermediate__lego_sets_reviews_themes_mapping
    description: >
      This model joins together key information about sets, reviews,
      ratings and themes.

    columns:
      - name: set_num
        description: The set number
        tests:
          - not_null:
              severity: error
          - unique:
              severity: error

      - name: review_url
        description: The URL to the website the review is from

      - name: snippet
        description: A snippet of text from the review

      - name: review_amount
        description: The number of reviews from this website

      - name: rating_original
        description: >
          The rating of the set on the website in its original format.
          This might be on a scale of 1-5 or 1-100, or something else.

      - name: rating_converted
        description: >
          The rating of the set converted to a 100 point scale.

      - name: author_name
        description: The name of the review's author

      - name: fetched_at
        description: Timestamp of when the data was fetched from the API

      - name: set_name
        description: The set's name 

      - name: release_year
        description: Year the set was released

      - name: theme_id
        description: The set's theme ID

      - name: num_parts
        description: The number of parts in the set

      - name: img_url
        description: The set's image URL

      - name: theme_name
        description: The theme's name

      - name: parent_id
        description: Unique ID for the larger theme, if there is one

      - name: parent_theme_name
        description: The parent theme's name